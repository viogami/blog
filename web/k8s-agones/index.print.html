<!DOCTYPE html>
<html id="R-html" lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="print">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.154.5">
    <meta name="generator" content="Relearn 9.0.3+8bb66fa674351f3a0b0917a7552caac686eca920">
    <meta name="description" content="学一个新事物从底层理论学肯定是最系统的，但不是最工程的。对于K8S，我个人认为相比苦苦理解各种集群，节点，pods等等概念，不如实际上手一次，从实践上逐步理解理论，自顶向下才是最快最高效的学习模式，因为目的是使用K8S，是工程化，而不是了解k8s架构，设计云云。">
    <meta name="author" content="Sören Weber">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://mcshelby.github.io/hugo-theme-relearn/images/hero.png">
    <meta name="twitter:title" content="自顶向下学习K8S--部署Agones :: Hugo Relearn Theme">
    <meta name="twitter:description" content="学一个新事物从底层理论学肯定是最系统的，但不是最工程的。对于K8S，我个人认为相比苦苦理解各种集群，节点，pods等等概念，不如实际上手一次，从实践上逐步理解理论，自顶向下才是最快最高效的学习模式，因为目的是使用K8S，是工程化，而不是了解k8s架构，设计云云。">
    <meta property="og:url" content="https://mcshelby.github.io/hugo-theme-relearn/web/k8s-agones/index.html">
    <meta property="og:site_name" content="Hugo Relearn Theme">
    <meta property="og:title" content="自顶向下学习K8S--部署Agones :: Hugo Relearn Theme">
    <meta property="og:description" content="学一个新事物从底层理论学肯定是最系统的，但不是最工程的。对于K8S，我个人认为相比苦苦理解各种集群，节点，pods等等概念，不如实际上手一次，从实践上逐步理解理论，自顶向下才是最快最高效的学习模式，因为目的是使用K8S，是工程化，而不是了解k8s架构，设计云云。">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="article">
    <meta property="article:section" content="Web">
    <meta property="article:published_time" content="2024-03-28T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-03-28T00:00:00+00:00">
    <meta property="article:tag" content="K8S">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Agones">
    <meta property="article:tag" content="Kubernetes">
    <meta property="article:tag" content="云原生">
    <meta property="og:image" content="https://mcshelby.github.io/hugo-theme-relearn/images/hero.png">
    <meta itemprop="name" content="自顶向下学习K8S--部署Agones :: Hugo Relearn Theme">
    <meta itemprop="description" content="学一个新事物从底层理论学肯定是最系统的，但不是最工程的。对于K8S，我个人认为相比苦苦理解各种集群，节点，pods等等概念，不如实际上手一次，从实践上逐步理解理论，自顶向下才是最快最高效的学习模式，因为目的是使用K8S，是工程化，而不是了解k8s架构，设计云云。">
    <meta itemprop="datePublished" content="2024-03-28T00:00:00+00:00">
    <meta itemprop="dateModified" content="2024-03-28T00:00:00+00:00">
    <meta itemprop="wordCount" content="215">
    <meta itemprop="image" content="https://mcshelby.github.io/hugo-theme-relearn/images/hero.png">
    <meta itemprop="keywords" content="K8S,Docker,Agones,Kubernetes,云原生">
    <title>自顶向下学习K8S--部署Agones :: Hugo Relearn Theme</title>
    <link href="https://mcshelby.github.io/hugo-theme-relearn/web/k8s-agones/index.html" rel="canonical" type="text/html" title="自顶向下学习K8S--部署Agones :: Hugo Relearn Theme">
    <link href="/hugo-theme-relearn/images/logo.svg?1769159033" rel="icon" type="image/svg+xml">
    <link href="/hugo-theme-relearn/css/auto-complete/auto-complete.min.css?1769159033" rel="stylesheet">
    <script src="/hugo-theme-relearn/js/auto-complete/auto-complete.min.js?1769159033" defer></script>
    <script src="/hugo-theme-relearn/js/search-lunr.min.js?1769159033" defer></script>
    <script src="/hugo-theme-relearn/js/search.min.js?1769159033" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/hugo-theme-relearn/searchindex.en.js?1769159033";
    </script>
    <script src="/hugo-theme-relearn/js/lunr/lunr.min.js?1769159033" defer></script>
    <script src="/hugo-theme-relearn/js/lunr/lunr.stemmer.support.min.js?1769159033" defer></script>
    <script src="/hugo-theme-relearn/js/lunr/lunr.multi.min.js?1769159033" defer></script>
    <script src="/hugo-theme-relearn/js/lunr/lunr.en.min.js?1769159033" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/hugo-theme-relearn/fonts/fontawesome/css/all.min.css?1769159033" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/hugo-theme-relearn/fonts/fontawesome/css/all.min.css?1769159033" rel="stylesheet"></noscript>
    <link href="/hugo-theme-relearn/css/perfect-scrollbar/perfect-scrollbar.min.css?1769159033" rel="stylesheet">
    <link href="/hugo-theme-relearn/css/theme.min.css?1769159033" rel="stylesheet">
    <link href="/hugo-theme-relearn/css/format-print.min.css?1769159033" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/web\/k8s-agones\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/mcshelby.github.io\/hugo-theme-relearn';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'relearn-auto', 'relearn-dark', 'relearn-light', 'relearn-bright', 'zen-auto', 'zen-dark', 'zen-light', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red' ];
      window.relearn.customvariantprefix = "my-custom-";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( !variant ||
            (!variant.startsWith(window.relearn.customvariantprefix) && !window.relearn.themevariants.includes(variant)) ||
            (variant.startsWith(window.relearn.customvariantprefix) && !window.localStorage.getItem(window.relearn.absBaseUri + "/variantstylesheet-" + variant)) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
    <script src="/hugo-theme-relearn/js/variant.min.js?1769159033"></script>
    <style>
       
      #R-body img.bg-white {
        background-color: white;
      }
    </style>
  </head>
  <body class="mobile-support print" data-origin="/hugo-theme-relearn/web/k8s-agones/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar" class="default-animation">
        <div class="topbar-wrapper default-animation">
          <div class="topbar-sidebar-divider default-animation"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar default-animation" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-table-list"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#准备工作">准备工作</a>
      <ul>
        <li><a href="#安装docker-desktop">安装docker-desktop</a></li>
        <li><a href="#vscode的k8s插件">vscode的K8S插件</a></li>
      </ul>
    </li>
    <li><a href="#提出疑问-区别概念">提出疑问-区别概念</a>
      <ul>
        <li><a href="#kubernetes-中-node-和-pod-的关系">Kubernetes 中 Node 和 Pod 的关系</a></li>
        <li><a href="#现实中一个项目是不是只要一个k8s集群就够了">现实中，一个项目是不是只要一个k8s集群就够了？</a></li>
        <li><a href="#命名空间和nodes有什么区别为什么有了nodes还需要namespace">命名空间和nodes有什么区别，为什么有了nodes还需要namespace</a></li>
      </ul>
    </li>
    <li><a href="#安装agones">安装Agones</a>
      <ul>
        <li><a href="#但并不重要因为你可以根据官方文档逐步操作">但并不重要，因为你可以根据官方文档逐步操作</a></li>
      </ul>
    </li>
    <li><a href="#结束">结束</a>
      <ul>
        <li><a href="#如果你有任何疑问都可以评论联系我">如果你有任何疑问，都可以评论联系我~</a></li>
      </ul>
    </li>
  </ul>
</nav> 
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class="a11y-only"><a itemprop="item" href="/hugo-theme-relearn/index.html"><span itemprop="name">Hugo Relearn Theme</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/hugo-theme-relearn/web/index.html"><span itemprop="name">Web</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">自顶向下学习K8S--部署Agones</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-edit default-animation" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="https://github.com/McShelby/hugo-theme-relearn/edit/main/docs/content/web/自顶向下学习K8S--部署Agones/index.md" rel="external" target="_self" title="Edit (CTRL+ALT+w)"><i class="fa-fw fas fa-pen"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-print default-animation" data-content-empty="disable" data-width-s="area-more" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/hugo-theme-relearn/web/k8s-agones/index.print.html" title="Print whole chapter (CTRL+ALT+p)"><i class="fa-fw fas fa-print"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-prev default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/hugo-theme-relearn/web/docker-mysql-error/index.html" title="【开发问题】linux启动docker镜像成功，而win启动该镜像mysql报错 (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/hugo-theme-relearn/web/grpc-php/index.html" title="php使用grpc服务(从0开始，并且包含mapfield文件解释) (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable web" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
<div class="R-taxonomy taxonomy-tags cstyle tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="/hugo-theme-relearn/tags/agones/index.html">Agones</a></li>
    <li><a class="term-link" href="/hugo-theme-relearn/tags/docker/index.html">Docker</a></li>
    <li><a class="term-link" href="/hugo-theme-relearn/tags/k8s/index.html">K8S</a></li>
    <li><a class="term-link" href="/hugo-theme-relearn/tags/kubernetes/index.html">Kubernetes</a></li>
    <li><a class="term-link" href="/hugo-theme-relearn/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/index.html">云原生</a></li>
  </ul>
</div>
  </header>

<h1 id="自顶向下学习k8s--部署agones">自顶向下学习K8S--部署Agones</h1>

<p>学一个新事物从底层理论学肯定是最系统的，但不是最工程的。对于K8S，我个人认为相比苦苦理解各种集群，节点，pods等等概念，不如实际上手一次，从实践上逐步理解理论，自顶向下才是最快最高效的学习模式，因为目的是使用K8S，是工程化，而不是了解k8s架构，设计云云。</p>
<p><strong>本文基本从0开始部署Agones，进而逐步理解docker，理解K8S。</strong></p>
<p>相信如果你能发现本文，自然了解Agones是什么，如果不知道自行了解下，不做多介绍，引用官方介绍：</p>
<blockquote>
<p>Agones 是一个开源平台，用于部署、托管、扩展和编排专用游戏服务器，用于大型多人游戏，构建在行业标准的分布式系统平台
Kubernetes 之上。</p>
</blockquote>
<p>部署Agones只是一个任务性的引子，重点还是K8S.</p>
<h2 id="准备工作">准备工作<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="安装docker-desktop">安装docker-desktop<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>由于我是win机器，在一切之前，得介绍下开发环境，但很简单。
首先得安装docker，注意如下：</p>
<ul>
<li><strong>打开任务管理器，看看cpu有没有开启虚拟化，没有则在bios设置中开启。(必要)</strong></li>
<li>安装wsl，无需开启hyper-v,所以家庭还是专业版的windows没啥影响。</li>
<li>自备代理工具，docker官网需要魔法。</li>
</ul>
<p><strong>安装完docker基本就完成了。</strong></p>
<p>由于是个人开发测试用，只用<strong>部署一个单节点集群</strong>就好了，而这在docker-desktop中已经集成了，很方便，如下所示，打开即可：</p>
<p><a href="#R-image-f23f2d034d3c90455304ede025cbd03f" class="lightbox-link"><img alt="alt text" class="bg-white border lazy lightbox figure-image" loading="lazy" src="/hugo-theme-relearn/web/k8s-agones/1.png" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f23f2d034d3c90455304ede025cbd03f"><img alt="alt text" class="bg-white border lazy lightbox lightbox-image" loading="lazy" src="/hugo-theme-relearn/web/k8s-agones/1.png"></a></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">kubectl get nodes</span></span></code></pre></div>
<p>如果返回类似 Ready 状态的节点，说明 Kubernetes 已经启动成功。</p>
<p><em>注意 ❌：Docker Desktop 的 Kubernetes 只能运行在单个节点上，不适用于生产环境的高可用集群。</em></p>
<h3 id="vscode的k8s插件">vscode的K8S插件<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>安装桌面版的docker是有图形化界面的，很直观，但K8S目前我们是没有GUI的，需要吗？并不一定，使用gui会更多的限制你。
Kubernetes 本身主要是通过 kubectl 命令行工具和 YAML 配置文件进行管理的。</p>
<p>虽然有 <code>kubernetes-dashboard</code>，但别着急，在vscode的插件也有gui可以打开dashboard。推荐安装docker和k8s插件，在vscode中集成开发，然后我逐步解释下插件中每个显示项的作用，<strong>从这里就开始理解如何使用K8S辣</strong></p>
<p><a href="#R-image-b4fe1e396cb251c7c9312f697c377507" class="lightbox-link"><img alt="alt text" class="bg-white border lazy lightbox figure-image" loading="lazy" src="/hugo-theme-relearn/web/k8s-agones/2.png" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b4fe1e396cb251c7c9312f697c377507"><img alt="alt text" class="bg-white border lazy lightbox lightbox-image" loading="lazy" src="/hugo-theme-relearn/web/k8s-agones/2.png"></a></p>
<ul>
<li>Namespace（命名空间）Kubernetes 内部的逻辑隔离单位，用于划分不同的应用、环境或团队。一个集群可以包含多个 Namespace，<strong>每个 Namespace 内的资源相互独立</strong>。</li>
<li>Workloads（工作负载）管理 Kubernetes 里运行的应用程序，本质上就是 运行 Pod 的控制器。Workload 负责定义应用如何部署、扩缩容、更新和运行。</li>
<li>Network（网络） 负责 Kubernetes Pod 之间、Pod 和外部系统之间的通信。管理 Service、Ingress、Network Policy 这些 K8s 网络资源。</li>
<li>Storage（存储）管理 Kubernetes 里的持久化存储，确保 Pod 重新启动后数据不会丢失。Volume 只在 Pod 生命周期内有效，但 PersistentVolume（PV）可持久存储数据。</li>
<li>Configuration（配置管理）管理应用的配置信息、环境变量、Secrets（敏感信息）。让应用和环境解耦，比如可以在不修改代码的情况下更改应用配置。</li>
<li>Custom Resource（自定义资源）扩展 Kubernetes，增加新的资源类型，比如 Agones 添加了 GameServer 资源。允许你 创建自己的 K8s API，以适配特定的业务需求。</li>
<li>Helm Releases（Helm 版本管理）管理 Helm 安装的应用（比如 agones）。<strong>Helm 是 Kubernetes 的包管理工具</strong>，可以一键安装、更新、删除复杂应用。</li>
</ul>
<h4 id="但docker-desktop-不包含k8s的包管理工具-helm">但Docker Desktop 不包含K8S的包管理工具 Helm<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>但安装了K8S插件会自动提示下载 <code>kubectl</code>和 <code>helm</code>，前者是命令行操作工具。都是编译好的exe。如果需要可以配到环境变量中，位置在 <code>.../user/.vs-kubernetes</code>下</p>
<h2 id="提出疑问-区别概念">提出疑问-区别概念<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>好了，在部署之前，安装了上文所说的插件，如果刚入门K8S，难免有一些疑问，下面我着重进行些概念补充，希望下面可以顺利进行~</p>
<h3 id="kubernetes-中-node-和-pod-的关系">Kubernetes 中 Node 和 Pod 的关系<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Node（节点）就是机器，它可以是：物理机（裸机服务器），虚拟机（云服务器、Docker Desktop 里的虚拟 K8s 节点），你的本机（如果你用 Docker Desktop Kubernetes）</p>
<p>Pod（Pod 是容器的封装单位），Pod 运行在 Node上，一个Pod 里面可以有一个或多个容器，Pod共享存储（Volume）、网络（IP 地址）等，K8s 只管理 Pod，不直接管理容器</p>
<p>如果 Kubernetes 是一个数据中心：</p>
<ul>
<li>Node = 一台服务器</li>
<li>Pod = 服务器上的一个应用进程组（可能包含多个容器）</li>
<li>容器 = 运行的进程（比如 Nginx、MySQL 等）</li>
</ul>
<h3 id="现实中一个项目是不是只要一个k8s集群就够了">现实中，一个项目是不是只要一个k8s集群就够了？<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>YES！一个 Kubernetes 集群足够应付绝大部分的项目需求，包括扩展、弹性、资源管理和容器的自动化部署。</strong></p>
<p>一个K8S集群中会有很多nodes，这些nodes就是物理上的机器，可以有很多个，每个nodes里有很多pods，pods才是实际的部署的应用。nodes已经完成了分布式，多集群可能确实在大型复杂项目的跨地区部署中用到，但咱可以不用了解</p>
<h3 id="命名空间和nodes有什么区别为什么有了nodes还需要namespace">命名空间和nodes有什么区别，为什么有了nodes还需要namespace<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li>Nodes（节点） 物理或虚拟机，负责运行 Pod 实际的计算资源（CPU、内存、存储）</li>
<li>Namespace（命名空间） 逻辑隔离的环境，管理不同的 K8s 资源 逻辑上的组织单位，不影响物理资源分配
<em>可以把 Node 理解为 &ldquo;真实的服务器&rdquo;，而 Namespace 更像是 &ldquo;应用的文件夹或项目空间&rdquo;</em></li>
</ul>
<h2 id="安装agones">安装Agones<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>好了，终于来到重点也不算是重点的部分了。</p>
<h3 id="但并不重要因为你可以根据官方文档逐步操作">但并不重要，因为你可以根据<a href="https://agones.dev/site/docs/installation/install-agones/yaml/" rel="external" target="_self">官方文档</a>逐步操作<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>根据agones官方文档，安装可以通过yaml文件，也可以通过helm包管理安装。</p>
<p>我是用kubectl命令行拉取的yaml文件完成的安装</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">kubectl create namespace agones-system
</span></span><span class="line"><span class="cl">kubectl apply --server-side -f https://raw.githubusercontent.com/googleforgames/agones/release-1.48.0/install/yaml/install.yaml</span></span></code></pre></div>
<p>然后你就可以在 <code>Custom Resource</code>中发现拉去下来的服务了！</p>
<p><a href="#R-image-2472ebec902cc0a774eed49b65885ca8" class="lightbox-link"><img alt="alt text" class="bg-white border lazy lightbox figure-image" loading="lazy" src="/hugo-theme-relearn/web/k8s-agones/3.png" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2472ebec902cc0a774eed49b65885ca8"><img alt="alt text" class="bg-white border lazy lightbox lightbox-image" loading="lazy" src="/hugo-theme-relearn/web/k8s-agones/3.png"></a></p>
<p>接下来按照官方文档操作进行部署了，并不赘述，因为本文不是介绍怎么部署agones。</p>
<p><a href="#R-image-72049d21ac7da12fdbc42cbb3edf2a06" class="lightbox-link"><img alt="alt text" class="bg-white border lazy lightbox figure-image" loading="lazy" src="/hugo-theme-relearn/web/k8s-agones/4.png" style="height: auto;width: auto;"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-72049d21ac7da12fdbc42cbb3edf2a06"><img alt="alt text" class="bg-white border lazy lightbox lightbox-image" loading="lazy" src="/hugo-theme-relearn/web/k8s-agones/4.png"></a></p>
<p>本人使用rider及其K8S插件，在游戏开发的时候进行服务器集群控制的。记住命令行得到pod的ip和端口，接下来就是网络通信的知识了。如果要在unity中和部署的服务器应用通信，自写和后端的通信协议，Agones只是个后台应用调度工具，不涉及和前端交互。</p>
<p><strong>注意 ❌ Agones Unity SDK 适用于 服务器端（GameServer） 的 Unity 进程而不是前端！</strong></p>
<p>例如：你用 Unity 制作了一款 服务器端模拟的游戏逻辑，需要让 Agones 调度这个服务器。或者你的游戏服务器是 Unity 编写的，想要与 Agones 交互来管理它的生命周期。但是，<strong>如果你想让 Unity 客户端 连接到 GameServer，那 Unity SDK 并不需要。客户端应该直接用 WebSocket、TCP、UDP、HTTP 连接 GameServer。</strong></p>
<h2 id="结束">结束<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>怎么就结束了？
因为从安装agones敲下一行命令行开始，已经完成了一次K8S的体验，只要了解从0到启动一个K8S单节点集群的全过程每个操作的意义，那么恭喜你，已经入门K8S了，就这么简单，剩下的内容需要在一次次部署应用，一次次开关容器中不断积累吧。这不是整体图看这个概念那个概念是什么意思可以解决的。</p>
<p>怎么用kubectl操作，怎么用helm包管理，这就是启动K8S后亟待解决的唯二的问题，在实践中结束吧！</p>
<h3 id="如果你有任何疑问都可以评论联系我">如果你有任何疑问，都可以评论联系我~<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<script src="https://giscus.app/client.js"
        data-repo="viogami/blog"
        data-repo-id="R_kgDOORWDyA"
        data-category="Announcements"
        data-category-id="DIC_kwDOORWDyM4Conxc"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async>
</script>
  <footer class="footline">
              <i class='fa-fw fas fa-calendar'></i> Mar 28, 2024
  </footer>
</article>
        </div>
      </main>
    </div>
    <script src="/hugo-theme-relearn/js/perfect-scrollbar/perfect-scrollbar.min.js?1769159033" defer></script>
    <script src="/hugo-theme-relearn/js/theme.min.js?1769159033" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
